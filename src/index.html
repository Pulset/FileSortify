<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🗂️ 文件自动分类工具</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>🗂️ 文件自动分类工具</h1>
            <p>智能整理你的下载文件夹，让文件井井有条<br>
                <small style="opacity: 0.8;">未匹配的文件将保持在原地，不会被移动</small>
            </p>
        </div>

        <div class="content">
            <!-- 统计信息 -->
            <div class="section">
                <h3>📊 统计信息</h3>
                <div class="stats">
                    <div class="stat-card">
                        <h4 id="files-count">0</h4>
                        <p>已整理文件</p>
                    </div>
                    <div class="stat-card">
                        <h4 id="last-organized">未开始</h4>
                        <p>最后整理时间</p>
                    </div>
                    <div class="stat-card">
                        <h4 id="monitoring-status">已停止</h4>
                        <p>监控状态</p>
                    </div>
                </div>
            </div>

            <!-- 文件夹设置 -->
            <div class="section">
                <h3>📁 文件夹设置</h3>
                <div class="form-group">
                    <label for="folder-path">下载文件夹路径:</label>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="folder-path" placeholder="请选择文件夹路径">
                        <button class="btn" onclick="selectFolder()">📁 选择文件夹</button>
                    </div>
                </div>
            </div>

            <!-- 操作控制 -->
            <div class="section">
                <h3>🎛️ 操作控制</h3>
                <button class="btn" onclick="organizeFiles()">
                    🗂️ 整理现有文件
                </button>
                <button class="btn btn-secondary" id="monitor-btn" onclick="toggleMonitoring()">
                    🔍 开始监控
                </button>
                <button class="btn btn-secondary" onclick="showCategories()">
                    ⚙️ 查看分类规则
                </button>
                <button class="btn btn-secondary" onclick="showConfigManager()">
                    🔧 自定义分类
                </button>
            </div>

            <!-- 日志显示 -->
            <div class="section">
                <h3>📝 操作日志</h3>
                <div class="logs" id="logs">
                    <div class="log-entry">⏳ 正在初始化应用...</div>
                </div>
            </div>

            <!-- 分类规则 -->
            <div class="section" id="categories-section" style="display: none;">
                <h3>📋 文件分类规则</h3>
                <div class="categories" id="categories">
                    <!-- 动态加载 -->
                </div>
            </div>

            <!-- 订阅状态 -->
            <div class="section" id="subscription-section">
                <h3>💎 订阅状态</h3>
                <div id="subscription-info">
                    <!-- 动态加载 -->
                </div>
            </div>

            <!-- 配置管理 -->
            <div class="section" id="config-section" style="display: none;">
                <h3>🔧 自定义分类规则</h3>

                <!-- 添加新分类 -->
                <div style="margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                    <h4>➕ 添加新分类</h4>
                    <div style="display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap;">
                        <input type="text" id="new-category-name" placeholder="分类名称" style="flex: 1; min-width: 150px;">
                        <input type="text" id="new-category-extensions" placeholder="扩展名 (如: .mp4,.avi,.mov)"
                            style="flex: 2; min-width: 200px;">
                        <button class="btn" onclick="addNewCategory()">添加</button>
                    </div>
                </div>

                <!-- 管理现有分类 -->
                <div style="margin-bottom: 20px;">
                    <h4>📝 管理现有分类</h4>
                    <div id="config-categories" style="margin-top: 15px;">
                        <!-- 动态加载 -->
                    </div>
                </div>

                <!-- 配置操作 -->
                <div style="margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                    <h4>🛠️ 配置操作</h4>
                    <div style="margin-top: 10px;">
                        <button class="btn btn-secondary" onclick="exportConfig()">📤 导出配置</button>
                        <button class="btn btn-secondary" onclick="importConfig()">📥 导入配置</button>
                        <button class="btn btn-danger" onclick="resetConfig()">🔄 重置默认</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>

</html>